{"remainingRequest":"E:\\VUE\\VueProject\\electric-power\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VUE\\VueProject\\electric-power\\src\\components\\powerData\\search-data.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VUE\\VueProject\\electric-power\\src\\components\\powerData\\search-data.vue","mtime":1601658369671},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1599874220956},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\babel-loader\\lib\\index.js","mtime":1599874250055},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1599874220956},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\vue-loader\\lib\\index.js","mtime":1599874242496}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bus from '../../bus/bus.js'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tvalue1: '',\n\t\t\tvalue2: '',\n\t\t\toptions1: [{\n\t\t\t\tvalue: '选项1',\n\t\t\t\tlabel: '15分钟'\n\t\t\t}, {\n\t\t\t\tvalue: '选项2',\n\t\t\t\tlabel: '30分钟'\n\t\t\t}],\n\t\t\toptions2:[\n\t\t\t\t{\n\t\t\t\t\tvalue:'电流',\n\t\t\t\t\tlabel:'电流'\n\t\t\t\t\t\n\t\t\t\t},{\n\t\t\t\t\tvalue:'电压',\n\t\t\t\t\tlabel:'电压'\n\t\t\t\t},{\n\t\t\t\t\tvalue:'功率',\n\t\t\t\t\tlabel:'功率',\n\t\t\t\t}\n\t\t\t],\n\t\t\tsearchData: {\n\n\t\t\t},\n\t\t\tpickerOptions: {\n\t\t\t\tshortcuts: [{\n\t\t\t\t\ttext: '最近一周',\n\t\t\t\t\tonClick(picker) {\n\t\t\t\t\t\tconst end = new Date();\n\t\t\t\t\t\tconst start = new Date();\n\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n\t\t\t\t\t\tpicker.$emit('pick', [start, end]);\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t},\n\t\t\tdateTime: [],\n\t\t\tstepData: [],\n\t\t}\n\t},\n\tmounted() {\n\t\tconsole.log('执行运行')\n\t\t// var startDate = new Date();\n\t\t// var endDate = new Date();\n\t\t// startDate.setTime(startDate.getTime() - 3600 * 1000 * 24 * 30);\n\t\t// this.$set(this.dateTime, 0, startDate);\n\t\t// this.$set(this.dateTime, 1, endDate);\n\n\t},\n\tmethods: {\n\t\thandleSeek() {\n\t\t\tconsole.log('搜素');\n\t\t\t// var handleSeekData = {};\n\t\t\t// if (this.searchData.value1 != \"\") {\n\t\t\t// \t//向对象添加属性\n\t\t\t// \tthis.$set(handleSeekData, 'value1', this.searchData.value1);\n\t\t\t// }\n\t\t\t// if (this.searchData.value2 != \"\") {\n\t\t\t// \tthis.$set(handleSeekData, 'value2', this.searchData.value2);\n\t\t\t// }\n\t\t\t// console.log(handleSeekData); //输出handleSeekData对象属性有哪些\n\t\t\t// console.log(Object.keys(handleSeekData).length); //输出handleSeekData对象的个数\n\t\t\t// this.$axios({\n\t\t\t// \tmethod: 'post',\n\t\t\t// \turl: this.COMMON.url + '',\n\t\t\t// \tdata: handleSeekData\n\t\t\t// }).then(response => {\n\t\t\t//\t\tBus.$emit('rearData','a');\n\t\t\t// }).catch(error => { // 请求失败\n\t\t\t// \tconsole.log('请求失败');\n\t\t\t// \tconsole.log(error);\n\t\t\t// });\n\t\t},\n\t\t// 数字补0操作\n\t\taddZero(num) {\n\t\t\treturn num < 10 ? '0' + num : num;\n\t\t},\n\t\tformatDateTime(date) {\n\t\t\tvar time = new Date(Date.parse(date));\n\t\t\tvar Y = time.getFullYear();\n\t\t\tvar M = this.addZero(time.getMonth() + 1);\n\t\t\tvar D = this.addZero(time.getDate());\n\t\t\tvar text = Y + M + D;\n\t\t\tvar num = text - 0;\n\t\t\treturn num;\n\t\t},\n\t\t\n\t\t//根据搜索条件获取符合条件的电力数据（电压、电流、有功功率、无功功率）\n\t\tgetRearData() {\n\t\t\tvar rearInfor={};\n\t\t\tconsole.log('dateTime');\n\t\t\tconsole.log(this.dateTime);\n\t\t\tif (this.dateTime != null) {\n\t\t\t\tlet startTime = this.formatDateTime(this.dateTime[0]);\n\t\t\t\tlet endTime = this.formatDateTime(this.dateTime[1]);\n\t\t\t\tconsole.log('startTime');\n\t\t\t\tconsole.log(startTime);\n\t\t\t\tconsole.log('endTime');\n\t\t\t\tconsole.log(endTime);\n\t\t\t\tthis.$axios({\n\t\t\t\t\tmethod: 'get',\n\t\t\t\t\turl: this.COMMON.url + '',\n\t\t\t\t\tdata:rearInfor\n\t\t\t\t}).then(response => {\n\t\t\t\t\t\n\t\t\t\t}).catch(error => { // 请求失败\n\t\t\t\t\tconsole.log('请求失败');\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\t$route: {\n\t\t\thandler: function(val, oldVal) {\n\t\t\t\tthis.dateTime='';\n\t\t\t\tthis.value1='';\n\t\t\t\tthis.value2='';\n\t\n\t\t\t},\n\t\t\t// 深度观察监听\n\t\t\tdeep: true\n\t\t}\n\t},\n}\n",{"version":3,"sources":["search-data.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"search-data.vue","sourceRoot":"src/components/powerData","sourcesContent":["<!--电力搜索数据-->\r\n<template>\r\n\t<div>\r\n\t\t<div style=\"float:left;margin-left: 10px;\">\r\n\t\t\t<font>请选择日期：</font>\r\n\t\t\t<el-date-picker\r\n\t\t\t      v-model=\"dateTime\"\r\n\t\t\t      type=\"datetimerange\"\r\n\t\t\t      range-separator=\"至\"\r\n\t\t\t      start-placeholder=\"开始日期\"\r\n\t\t\t      end-placeholder=\"结束日期\">\r\n\t\t\t    </el-date-picker>\r\n\t\t</div>\r\n\t\t<div style=\"float:left;margin-left: 10px;\">\r\n\t\t\t<font>时间间隔  </font>\r\n\t\t\t<el-select v-model=\"value1\" placeholder=\"请选择\" style=\"width: 150px;\">\r\n\t\t\t\t<el-option v-for=\"item in options1\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n\t\t\t\t</el-option>\r\n\t\t\t</el-select>\r\n\t\t</div>\r\n\t\t<div style=\"float:left;margin-left: 10px;\">\r\n\t\t\t<el-select v-model=\"value2\" placeholder=\"请选择\">\r\n\t\t\t    <el-option\r\n\t\t\t      v-for=\"item in options2\"\r\n\t\t\t      :key=\"item.value\"\r\n\t\t\t      :label=\"item.label\"\r\n\t\t\t      :value=\"item.value\">\r\n\t\t\t    </el-option>\r\n\t\t\t  </el-select>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div style=\"float:left;margin-left: 10px;\">\r\n\t\t\t<el-button type=\"success\" icon=\"el-icon-search\" @click=\"handleSeek\">\r\n\t\t\t\t<font class=\"font1\">\r\n\t\t\t\t\t搜索\r\n\t\t\t\t</font>\r\n\t\t\t</el-button>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div style=\"float:left;margin-left: 10px;\">\r\n\t\t\t<el-button type=\"primary\" @click=\"\">\r\n\t\t\t\t<font class=\"font1\">\r\n\t\t\t\t\t<i class=\"el-icon-circle-plus-outline\"></i>\r\n\t\t\t\t\t召测\r\n\t\t\t\t</font>\r\n\t\t\t</el-button>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Bus from '../../bus/bus.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvalue1: '',\r\n\t\t\t\tvalue2: '',\r\n\t\t\t\toptions1: [{\r\n\t\t\t\t\tvalue: '选项1',\r\n\t\t\t\t\tlabel: '15分钟'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: '选项2',\r\n\t\t\t\t\tlabel: '30分钟'\r\n\t\t\t\t}],\r\n\t\t\t\toptions2:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue:'电流',\r\n\t\t\t\t\t\tlabel:'电流'\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},{\r\n\t\t\t\t\t\tvalue:'电压',\r\n\t\t\t\t\t\tlabel:'电压'\r\n\t\t\t\t\t},{\r\n\t\t\t\t\t\tvalue:'功率',\r\n\t\t\t\t\t\tlabel:'功率',\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tsearchData: {\r\n\r\n\t\t\t\t},\r\n\t\t\t\tpickerOptions: {\r\n\t\t\t\t\tshortcuts: [{\r\n\t\t\t\t\t\ttext: '最近一周',\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tdateTime: [],\r\n\t\t\t\tstepData: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconsole.log('执行运行')\r\n\t\t\t// var startDate = new Date();\r\n\t\t\t// var endDate = new Date();\r\n\t\t\t// startDate.setTime(startDate.getTime() - 3600 * 1000 * 24 * 30);\r\n\t\t\t// this.$set(this.dateTime, 0, startDate);\r\n\t\t\t// this.$set(this.dateTime, 1, endDate);\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleSeek() {\r\n\t\t\t\tconsole.log('搜素');\r\n\t\t\t\t// var handleSeekData = {};\r\n\t\t\t\t// if (this.searchData.value1 != \"\") {\r\n\t\t\t\t// \t//向对象添加属性\r\n\t\t\t\t// \tthis.$set(handleSeekData, 'value1', this.searchData.value1);\r\n\t\t\t\t// }\r\n\t\t\t\t// if (this.searchData.value2 != \"\") {\r\n\t\t\t\t// \tthis.$set(handleSeekData, 'value2', this.searchData.value2);\r\n\t\t\t\t// }\r\n\t\t\t\t// console.log(handleSeekData); //输出handleSeekData对象属性有哪些\r\n\t\t\t\t// console.log(Object.keys(handleSeekData).length); //输出handleSeekData对象的个数\r\n\t\t\t\t// this.$axios({\r\n\t\t\t\t// \tmethod: 'post',\r\n\t\t\t\t// \turl: this.COMMON.url + '',\r\n\t\t\t\t// \tdata: handleSeekData\r\n\t\t\t\t// }).then(response => {\r\n\t\t\t\t//\t\tBus.$emit('rearData','a');\r\n\t\t\t\t// }).catch(error => { // 请求失败\r\n\t\t\t\t// \tconsole.log('请求失败');\r\n\t\t\t\t// \tconsole.log(error);\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\t// 数字补0操作\r\n\t\t\taddZero(num) {\r\n\t\t\t\treturn num < 10 ? '0' + num : num;\r\n\t\t\t},\r\n\t\t\tformatDateTime(date) {\r\n\t\t\t\tvar time = new Date(Date.parse(date));\r\n\t\t\t\tvar Y = time.getFullYear();\r\n\t\t\t\tvar M = this.addZero(time.getMonth() + 1);\r\n\t\t\t\tvar D = this.addZero(time.getDate());\r\n\t\t\t\tvar text = Y + M + D;\r\n\t\t\t\tvar num = text - 0;\r\n\t\t\t\treturn num;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//根据搜索条件获取符合条件的电力数据（电压、电流、有功功率、无功功率）\r\n\t\t\tgetRearData() {\r\n\t\t\t\tvar rearInfor={};\r\n\t\t\t\tconsole.log('dateTime');\r\n\t\t\t\tconsole.log(this.dateTime);\r\n\t\t\t\tif (this.dateTime != null) {\r\n\t\t\t\t\tlet startTime = this.formatDateTime(this.dateTime[0]);\r\n\t\t\t\t\tlet endTime = this.formatDateTime(this.dateTime[1]);\r\n\t\t\t\t\tconsole.log('startTime');\r\n\t\t\t\t\tconsole.log(startTime);\r\n\t\t\t\t\tconsole.log('endTime');\r\n\t\t\t\t\tconsole.log(endTime);\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\turl: this.COMMON.url + '',\r\n\t\t\t\t\t\tdata:rearInfor\r\n\t\t\t\t\t}).then(response => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}).catch(error => { // 请求失败\r\n\t\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t$route: {\r\n\t\t\t\thandler: function(val, oldVal) {\r\n\t\t\t\t\tthis.dateTime='';\r\n\t\t\t\t\tthis.value1='';\r\n\t\t\t\t\tthis.value2='';\r\n\t\t\r\n\t\t\t\t},\r\n\t\t\t\t// 深度观察监听\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"]}]}