{"remainingRequest":"E:\\VUE\\VueProject\\electric-power\\node_modules\\babel-loader\\lib\\index.js!E:\\VUE\\VueProject\\electric-power\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\VUE\\VueProject\\electric-power\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VUE\\VueProject\\electric-power\\src\\view\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VUE\\VueProject\\electric-power\\src\\view\\index.vue","mtime":1607757002788},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1599874220956},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\babel-loader\\lib\\index.js","mtime":1599874250055},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1599874220956},{"path":"E:\\VUE\\VueProject\\electric-power\\node_modules\\vue-loader\\lib\\index.js","mtime":1599874242496}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport NavMenu from \"../components/index/nav-menu.vue\";\nimport Demo1 from \"../test/demo1.vue\";\nimport NavBreadcrumb from \"../components/index/nav-breadcrumb.vue\";\nimport Title from \"../components/index/title.vue\";\nexport default {\n  components: {\n    NavMenu: NavMenu,\n    NavBreadcrumb: NavBreadcrumb,\n    Title: Title,\n    Demo1: Demo1\n  },\n  data: function data() {\n    return {\n      isRouterAlive: false,\n      timer: null\n    };\n  },\n  provide: function provide() {\n    return {\n      reload: this.reload\n    };\n  },\n  mounted: function mounted() {\n    this.waitTime();\n  },\n  methods: {\n    reload: function reload() {\n      this.isRouterAlive = false;\n      this.$nextTick(function () {\n        this.isRouterAlive = true;\n      });\n    },\n    getNewToken: function getNewToken() {\n      this.$axios({\n        method: 'post',\n        url: '/Account/FlushToken'\n      }).then(function (response) {\n        console.log('刷新Token成功'); // console.log(response.data);\n\n        sessionStorage.setItem('token', response.data);\n      }).catch(function (error) {\n        // 请求失败\n        console.log('请求失败');\n        console.log(error);\n      });\n    },\n    refreshTime: function refreshTime() {\n      var i = sessionStorage.getItem('num');\n      i = i - 0;\n      i = i + 1;\n      sessionStorage.setItem('num', i); // console.log(sessionStorage.getItem('num'));\n\n      if (i == 400) {\n        sessionStorage.setItem('num', 0);\n        this.getNewToken();\n      }\n    },\n    waitTime: function waitTime() {\n      var _this = this;\n\n      this.timer = window.setInterval(function () {\n        setTimeout(_this.refreshTime, 0);\n      }, 1000);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    console.log('清除定时器');\n    clearInterval(this.timer); // 清除定时器\n\n    sessionStorage.setItem('num', 0); // this.timer = null;\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,OAAA;AACA,OAAA,KAAA;AACA,OAAA,aAAA;AACA,OAAA,KAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,aAAA,EAAA,aAFA;AAGA,IAAA,KAAA,EAAA,KAHA;AAIA,IAAA,KAAA,EAAA;AAJA,GADA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAZA;AAaA,EAAA,OAbA,qBAaA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KAAA;AADA,KAAA;AAGA,GAjBA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,QAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,aAAA,aAAA,GAAA,IAAA;AACA,OAFA;AAGA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EADA,CAEA;;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,OAAA,EAAA,QAAA,CAAA,IAAA;AACA,OAPA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAVA;AAWA,KAnBA;AAqBA,IAAA,WArBA,yBAqBA;AACA,UAAA,CAAA,GAAA,cAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,MAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AACA,MAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AACA,MAAA,cAAA,CAAA,OAAA,CAAA,KAAA,EAAA,CAAA,EAJA,CAKA;;AACA,UAAA,CAAA,IAAA,GAAA,EAAA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,KAAA,EAAA,CAAA;AACA,aAAA,WAAA;AACA;AACA,KA/BA;AAgCA,IAAA,QAhCA,sBAgCA;AAAA;;AACA,WAAA,KAAA,GAAA,MAAA,CAAA,WAAA,CAAA,YAAA;AACA,QAAA,UAAA,CAAA,KAAA,CAAA,WAAA,EAAA,CAAA,CAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AApCA,GArBA;AA4DA,EAAA,aA5DA,2BA4DA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,IAAA,aAAA,CAAA,KAAA,KAAA,CAAA,CAFA,CAEA;;AACA,IAAA,cAAA,CAAA,OAAA,CAAA,KAAA,EAAA,CAAA,EAHA,CAIA;AACA;AAjEA,CAAA","sourcesContent":["<!-- 供电所显示 -->\r\n<template>\r\n\t<div class=\"index_style\">\r\n\t\t<div style=\"height:70px;line-height: 70px;width:100%;background-color: #459D9C;position:fixed;z-index: 99;\">\r\n\t\t\t<Title></Title>\r\n\t\t</div>\r\n\t\t\r\n\t\t<!-- <div class=\"index_aside_style\">\r\n\t\t\t<NavMenu></NavMenu>\r\n\t\t</div> -->\r\n\t\t<el-row :gutter=\"20\" class=\"index_aside_style\">\r\n\t\t\t<el-col :span=\"15\" style=\"min-width: 800px;\">\r\n\t\t\t\t<NavMenu></NavMenu>\r\n\t\t\t</el-col>\r\n\t\t\t<el-col :span=\"9\">\r\n\t\t\t\t<NavBreadcrumb style=\"padding-left:20px;min-width: 400px;\"></NavBreadcrumb>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t\t<div class=\"index_main_style\">\r\n\t\t\t<!-- <div>\r\n\t\t\t\t<NavBreadcrumb style=\"padding-left:20px\"></NavBreadcrumb>\r\n\t\t\t</div> -->\r\n\t\t\t<router-view v-if=\"isRouterAlive\" style=\"padding:20px\"></router-view>\r\n\t\t</div>\r\n\t\t<!-- <el-button @click=\"getNewToken\">刷新Token</el-button> -->\r\n\t</div>\n</template>\n\n<script>\r\n\timport NavMenu from '../components/index/nav-menu.vue'\r\n\timport Demo1 from '../test/demo1.vue'\r\n\timport NavBreadcrumb from '../components/index/nav-breadcrumb.vue'\r\n\timport Title from '../components/index/title.vue'\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\tNavMenu,\r\n\t\t\tNavBreadcrumb,\r\n\t\t\tTitle,\r\n\t\t\tDemo1\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tisRouterAlive:false,\r\n\t\t\t\ttimer:null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tprovide () {\r\n\t\t\treturn {\r\n\t\t\t\treload: this.reload\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.waitTime();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\treload(){\r\n\t\t\t\tthis.isRouterAlive = false\r\n\t\t\t\tthis.$nextTick(function () {\r\n\t\t\t\t\tthis.isRouterAlive = true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetNewToken(){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\t method: 'post',\r\n\t\t\t\t\t url:'/Account/FlushToken',\r\n\t\t\t\t }).then(response => {\r\n\t\t\t\t\tconsole.log('刷新Token成功');\r\n\t\t\t\t\t// console.log(response.data);\r\n\t\t\t\t\tsessionStorage.setItem('token',response.data);\r\n\t\t\t\t }).catch(error => {  // 请求失败\r\n\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trefreshTime(){\r\n\t\t\t\tvar i=sessionStorage.getItem('num');\r\n\t\t\t\ti=i-0;\r\n\t\t\t\ti=i+1;\r\n\t\t\t\tsessionStorage.setItem('num',i);\r\n\t\t\t\t// console.log(sessionStorage.getItem('num'));\r\n\t\t\t\tif(i==400){\r\n\t\t\t\t\tsessionStorage.setItem('num',0);\r\n\t\t\t\t\tthis.getNewToken();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twaitTime(){\r\n\t\t\t\tthis.timer=window.setInterval(() => {\r\n\t\t\t\t  setTimeout(this.refreshTime, 0)\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t// clearTimeout(this.timeOut)//清除计时器\r\n\t\t},\r\n\t\tbeforeDestroy(){\r\n\t\t\tconsole.log('清除定时器');\r\n\t\t\tclearInterval(this.timer);　　// 清除定时器\r\n\t\t\tsessionStorage.setItem('num',0);\r\n\t\t\t// this.timer = null;\r\n\t\t},\r\n\t}\n</script>\n\n<style scoped=\"scoped\">\r\n\t.index_style{\r\n\t\twidth:100%;\r\n\t\theight: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow-x: auto;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t\r\n\t.index_main_style{\r\n\t\tbackground-color: white;\r\n\t\twidth: 100%;\r\n\t\theight: calc(100% - 140px);\r\n\t\tmargin-top: 135px;\r\n\t\t/* border: 1px solid #0000FF; */\r\n\t}\r\n\t\r\n\t.index_aside_style{\r\n\t\twidth:100%;\r\n\t\theight:60px;\r\n\t\tposition:fixed;\r\n\t\tmargin-top: 70px;\r\n\t}\r\n\t.index_aside_style::-webkit-scrollbar { \r\n\t\twidth: 0 !important \r\n\t}\n</style>\n"],"sourceRoot":"src/view"}]}